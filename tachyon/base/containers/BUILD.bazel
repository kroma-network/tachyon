load("//bazel:tachyon_cc.bzl", "tachyon_cc_library", "tachyon_cc_test")

package(default_visibility = ["//visibility:public"])

tachyon_cc_library(
    name = "adapters",
    hdrs = ["adapters.h"],
)

tachyon_cc_library(
    name = "container_util",
    hdrs = ["container_util.h"],
    deps = [
        "//tachyon/base:functor_traits",
        "//tachyon/base:logging",
    ],
)

tachyon_cc_library(
    name = "contains",
    hdrs = ["contains.h"],
    deps = [
        "//tachyon/base/ranges",
        "//tachyon/base/ranges:algorithm",
    ],
)

tachyon_cc_library(
    name = "cxx20_erase",
    hdrs = [
        "cxx20_erase.h",
        "cxx20_erase_deque.h",
        "cxx20_erase_forward_list.h",
        "cxx20_erase_internal.h",
        "cxx20_erase_list.h",
        "cxx20_erase_map.h",
        "cxx20_erase_set.h",
        "cxx20_erase_string.h",
        "cxx20_erase_unordered_map.h",
        "cxx20_erase_unordered_set.h",
        "cxx20_erase_vector.h",
    ],
)

tachyon_cc_test(
    name = "containers_unittests",
    srcs = [
        "adapters_unittest.cc",
        "container_util_unittest.cc",
        "contains_unittest.cc",
    ],
    deps = [
        ":adapters",
        ":container_util",
        ":contains",
        "//tachyon/base/functional:identity",
    ],
)
